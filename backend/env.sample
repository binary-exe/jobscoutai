# Backend Environment Variables
# Copy this file to .env and fill in your values

# App settings
JOBSCOUT_DEBUG=false
JOBSCOUT_API_PREFIX=/api/v1

# Database - Supabase Postgres
# Get this from Supabase Dashboard > Settings > Database > Connection string
JOBSCOUT_DATABASE_URL=postgresql://postgres:[YOUR-PASSWORD]@db.[YOUR-PROJECT].supabase.co:5432/postgres
JOBSCOUT_USE_SQLITE=false

# For local development with SQLite:
# JOBSCOUT_USE_SQLITE=true
# JOBSCOUT_SQLITE_PATH=jobs.db

# CORS - allow your frontend domain (JSON array). Chrome/Edge extension origins (chrome-extension://*) are allowed automatically via regex.
JOBSCOUT_CORS_ORIGINS=["http://localhost:3000","https://your-app.vercel.app"]

# Supabase (Auth)
# Used for validating frontend magic-link JWTs via /auth/v1/user
JOBSCOUT_SUPABASE_URL=https://your-project.supabase.co
JOBSCOUT_SUPABASE_ANON_KEY=your-anon-key

# Admin token for triggering scrapes
# Generate with: python -c "import secrets; print(secrets.token_urlsafe(32))"
JOBSCOUT_ADMIN_TOKEN=your-secure-admin-token-here

# Scraper settings
JOBSCOUT_SCRAPE_INTERVAL_HOURS=6
JOBSCOUT_DEFAULT_SEARCH_QUERY=automation engineer
JOBSCOUT_DEFAULT_LOCATION=Remote
# Scheduled queries: explicit list overrides preset. If neither set, uses preset.
# JOBSCOUT_SCHEDULED_QUERIES=["automation engineer","data engineer","devops"]
# Preset (when JOBSCOUT_SCHEDULED_QUERIES not set): tech_core_60 (~60 titles) or tech_plus_120 (~120 titles)
JOBSCOUT_SCHEDULED_QUERIES_PRESET=tech_plus_120
# Queries per scheduler tick (rotation); default 2 keeps SerpAPI free-tier friendly
JOBSCOUT_SCHEDULED_QUERIES_PER_RUN=2
# Scheduled scrape caps (separate from public scrape)
# JOBSCOUT_SCHEDULED_SCRAPE_MAX_RESULTS_PER_SOURCE=100
# JOBSCOUT_SCHEDULED_SCRAPE_CONCURRENCY=8

# Public scrape settings (recommended to disable in production)
JOBSCOUT_PUBLIC_SCRAPE_ENABLED=false

# Provider allowlist (comma-separated or JSON array). Default = all providers enabled.
# Providers that require API keys will return 0 jobs until you set the keys below.
#
# --- PROVIDERS THAT NEED API KEYS (set below to get jobs from them) ---
#   serpapi_google_jobs  → JOBSCOUT_SERPAPI_API_KEY
#   themuse              → JOBSCOUT_THEMUSE_API_KEY (optional)
#   careerjet            → JOBSCOUT_CAREERJET_API_KEY
#   adzuna               → JOBSCOUT_ADZUNA_APP_ID + JOBSCOUT_ADZUNA_APP_KEY
#   findwork             → JOBSCOUT_FINDWORK_API_KEY
#   usajobs              → JOBSCOUT_USAJOBS_API_KEY + JOBSCOUT_USAJOBS_USER_AGENT
#   reed                 → JOBSCOUT_REED_API_KEY
#   okjob                → JOBSCOUT_OKJOB_API_KEY (optional)
#   jobs2careers         → JOBSCOUT_JOBS2CAREERS_API_KEY
#   whatjobs             → JOBSCOUT_WHATJOBS_API_KEY
#   juju                 → JOBSCOUT_JUJU_API_KEY
#   arbeitsamt           → JOBSCOUT_ARBEITSAMT_CLIENT_ID + JOBSCOUT_ARBEITSAMT_CLIENT_SECRET
#
# --- NO API KEY NEEDED (work out of the box) ---
#   remotive, remoteok, arbeitnow, weworkremotely, workingnomads, remoteco,
#   justremote, wellfound, stackoverflow, indeed, flexjobs, jobicy, devitjobs_uk
#
# To use only a subset, set e.g. JOBSCOUT_ENABLED_PROVIDERS=remotive,remoteok,jobicy,devitjobs_uk
# JOBSCOUT_ENABLED_PROVIDERS=

# SerpAPI Google Jobs (opt-in; add serpapi_google_jobs to JOBSCOUT_ENABLED_PROVIDERS)
# Get API key from: https://serpapi.com/manage-api-key
# JOBSCOUT_SERPAPI_API_KEY=your-key
# JOBSCOUT_SERPAPI_MAX_PAGES=1

# The Muse (opt-in; add themuse to JOBSCOUT_ENABLED_PROVIDERS)
# JOBSCOUT_THEMUSE_API_KEY=

# Careerjet (opt-in; add careerjet to JOBSCOUT_ENABLED_PROVIDERS)
# JOBSCOUT_CAREERJET_API_KEY=
# JOBSCOUT_CAREERJET_LOCALE_CODE=en_GB
# JOBSCOUT_CAREERJET_USER_IP=127.0.0.1
# JOBSCOUT_CAREERJET_USER_AGENT=JobScoutBot/2.0

# Adzuna (opt-in; add adzuna to JOBSCOUT_ENABLED_PROVIDERS)
# JOBSCOUT_ADZUNA_APP_ID=
# JOBSCOUT_ADZUNA_APP_KEY=
# JOBSCOUT_ADZUNA_COUNTRY=gb

# Findwork (opt-in; add findwork to JOBSCOUT_ENABLED_PROVIDERS)
# JOBSCOUT_FINDWORK_API_KEY=

# USAJobs (opt-in; add usajobs to JOBSCOUT_ENABLED_PROVIDERS)
# JOBSCOUT_USAJOBS_API_KEY=
# JOBSCOUT_USAJOBS_USER_AGENT=your-email@example.com

# Reed (opt-in; add reed to JOBSCOUT_ENABLED_PROVIDERS)
# JOBSCOUT_REED_API_KEY=

# OkJob (opt-in; add okjob to JOBSCOUT_ENABLED_PROVIDERS)
# JOBSCOUT_OKJOB_API_KEY=
# JOBSCOUT_OKJOB_API_URL=https://okjob.io/api/jobs

# Jobs2Careers (opt-in; add jobs2careers to JOBSCOUT_ENABLED_PROVIDERS)
# JOBSCOUT_JOBS2CAREERS_API_KEY=
# JOBSCOUT_JOBS2CAREERS_API_URL=http://api.jobs2careers.com/api/jobsearch

# WhatJobs (opt-in; add whatjobs to JOBSCOUT_ENABLED_PROVIDERS)
# JOBSCOUT_WHATJOBS_API_KEY=
# JOBSCOUT_WHATJOBS_API_URL=https://api.whatjobs.com/api/v1/jobs

# Juju (opt-in; add juju to JOBSCOUT_ENABLED_PROVIDERS)
# JOBSCOUT_JUJU_API_KEY=
# JOBSCOUT_JUJU_API_URL=http://www.juju.com/publisher/jobs/

# Arbeitsamt OAuth API (opt-in; add arbeitsamt to JOBSCOUT_ENABLED_PROVIDERS)
# JOBSCOUT_ARBEITSAMT_CLIENT_ID=
# JOBSCOUT_ARBEITSAMT_CLIENT_SECRET=
# JOBSCOUT_ARBEITSAMT_TOKEN_URL=https://rest.arbeitsagentur.de/oauth/gettoken_cc
# JOBSCOUT_ARBEITSAMT_API_URL=https://rest.arbeitsagentur.de/jobboerse/jobsuche-service/pc/v4/app/jobs

# Optional taxonomy expansion (not a provider feed)
# JOBSCOUT_OPEN_SKILLS_API_URL=

# AI settings (optional)
# Get API key from: https://platform.openai.com/api-keys
JOBSCOUT_OPENAI_API_KEY=sk-...
JOBSCOUT_OPENAI_MODEL=gpt-4.1-mini
JOBSCOUT_AI_ENABLED=true
JOBSCOUT_AI_MAX_JOBS=50

# Premium AI (Interview Coach, templates) - quota-gated, cached
# Requires JOBSCOUT_OPENAI_API_KEY. Free/Pro/Pro+ plans get different monthly caps (see apply_storage quota).
JOBSCOUT_PREMIUM_AI_ENABLED=false
# JOBSCOUT_PREMIUM_AI_MAX_TOKENS_INTERVIEW=1200
# JOBSCOUT_PREMIUM_AI_MAX_TOKENS_TEMPLATE=900

# Apply Pack reviewer loop (premium-only) - advanced model reviews and requests revisions
JOBSCOUT_APPLY_PACK_REVIEW_ENABLED=true
# JOBSCOUT_APPLY_PACK_REVIEW_MODEL=gpt-4.1-mini
# JOBSCOUT_APPLY_PACK_REVIEW_MAX_ITERS=2
# JOBSCOUT_APPLY_PACK_REVIEW_TIMEOUT_S=20
# JOBSCOUT_APPLY_PACK_REVIEW_MAX_TOKENS_REVIEW=700
# JOBSCOUT_APPLY_PACK_REVIEW_MAX_TOKENS_REVISE=1200

# Embeddings (pgvector personalization)
# If enabled and pgvector columns exist, admin backfill can populate embeddings for personalized ranking.
JOBSCOUT_EMBEDDINGS_ENABLED=false
JOBSCOUT_OPENAI_EMBEDDING_MODEL=text-embedding-3-small

# Second Brain (KB) RAG - per-user knowledge base; requires pgvector + OpenAI.
JOBSCOUT_KB_ENABLED=true

# Paddle Payments (optional)
# Configure Paddle for subscription billing
# Get these from Paddle Dashboard > Developer Tools > Authentication
JOBSCOUT_PADDLE_API_KEY=
JOBSCOUT_PADDLE_WEBHOOK_SECRET=
JOBSCOUT_PADDLE_VENDOR_ID=
JOBSCOUT_PADDLE_PRODUCT_ID=
# Optional: explicit price IDs for multi-tier plans
JOBSCOUT_PADDLE_PRICE_ID_WEEKLY_STANDARD=
JOBSCOUT_PADDLE_PRICE_ID_WEEKLY_PRO=
JOBSCOUT_PADDLE_PRICE_ID_MONTHLY_STANDARD=
JOBSCOUT_PADDLE_PRICE_ID_WEEKLY_SPRINT=
JOBSCOUT_PADDLE_PRICE_ID_MONTHLY_PRO=
JOBSCOUT_PADDLE_PRICE_ID_MONTHLY_POWER=
JOBSCOUT_PADDLE_PRICE_ID_ANNUAL_PRO=
JOBSCOUT_PADDLE_PRICE_ID_ANNUAL_POWER=
JOBSCOUT_PADDLE_PRICE_ID_TOPUP_20=
# Use "sandbox" for testing, "production" for live
JOBSCOUT_PADDLE_ENVIRONMENT=sandbox

# Email Service (optional - for onboarding drip emails)
# Get API key from: https://resend.com/api-keys
RESEND_API_KEY=
EMAIL_FROM=JobiQueue <hello@jobiqueue.com>
# Optional: where links in emails should point (your frontend)
SITE_URL=https://jobiqueue.com
# Optional: reply-to address for onboarding emails
REPLY_TO_EMAIL=support@jobiqueue.com
