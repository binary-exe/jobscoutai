# Backend Environment Variables
# Copy this file to .env and fill in your values

# App settings
JOBSCOUT_DEBUG=false
JOBSCOUT_API_PREFIX=/api/v1

# Database - Supabase Postgres
# Get this from Supabase Dashboard > Settings > Database > Connection string
JOBSCOUT_DATABASE_URL=postgresql://postgres:[YOUR-PASSWORD]@db.[YOUR-PROJECT].supabase.co:5432/postgres
JOBSCOUT_USE_SQLITE=false

# For local development with SQLite:
# JOBSCOUT_USE_SQLITE=true
# JOBSCOUT_SQLITE_PATH=jobs.db

# CORS - allow your frontend domain (JSON array). Chrome/Edge extension origins (chrome-extension://*) are allowed automatically via regex.
JOBSCOUT_CORS_ORIGINS=["http://localhost:3000","https://your-app.vercel.app"]

# Supabase (Auth)
# Used for validating frontend magic-link JWTs via /auth/v1/user
JOBSCOUT_SUPABASE_URL=https://your-project.supabase.co
JOBSCOUT_SUPABASE_ANON_KEY=your-anon-key

# Admin token for triggering scrapes
# Generate with: python -c "import secrets; print(secrets.token_urlsafe(32))"
JOBSCOUT_ADMIN_TOKEN=your-secure-admin-token-here

# Scraper settings
JOBSCOUT_SCRAPE_INTERVAL_HOURS=6
JOBSCOUT_DEFAULT_SEARCH_QUERY=automation engineer
JOBSCOUT_DEFAULT_LOCATION=Remote
# Optional: run multiple scheduled queries (JSON array or comma-separated list)
# JOBSCOUT_SCHEDULED_QUERIES=["automation engineer","data engineer","devops"]

# Public scrape settings (recommended to disable in production)
JOBSCOUT_PUBLIC_SCRAPE_ENABLED=false

# Provider allowlist (comma-separated or JSON array). If empty, uses default stable sources.
# Default: remotive,remoteok,arbeitnow,weworkremotely
# Available: remotive,remoteok,arbeitnow,weworkremotely,workingnomads,remoteco,justremote,wellfound,stackoverflow,indeed,flexjobs
# JOBSCOUT_ENABLED_PROVIDERS=remotive,remoteok,arbeitnow,weworkremotely

# AI settings (optional)
# Get API key from: https://platform.openai.com/api-keys
JOBSCOUT_OPENAI_API_KEY=sk-...
JOBSCOUT_OPENAI_MODEL=gpt-4.1-mini
JOBSCOUT_AI_ENABLED=true
JOBSCOUT_AI_MAX_JOBS=50

# Premium AI (Interview Coach, templates) - quota-gated, cached
# Requires JOBSCOUT_OPENAI_API_KEY. Free/Pro/Pro+ plans get different monthly caps (see apply_storage quota).
JOBSCOUT_PREMIUM_AI_ENABLED=false
# JOBSCOUT_PREMIUM_AI_MAX_TOKENS_INTERVIEW=1200
# JOBSCOUT_PREMIUM_AI_MAX_TOKENS_TEMPLATE=900

# Apply Pack reviewer loop (premium-only) - advanced model reviews and requests revisions
JOBSCOUT_APPLY_PACK_REVIEW_ENABLED=true
# JOBSCOUT_APPLY_PACK_REVIEW_MODEL=gpt-4.1-mini
# JOBSCOUT_APPLY_PACK_REVIEW_MAX_ITERS=2
# JOBSCOUT_APPLY_PACK_REVIEW_TIMEOUT_S=20
# JOBSCOUT_APPLY_PACK_REVIEW_MAX_TOKENS_REVIEW=700
# JOBSCOUT_APPLY_PACK_REVIEW_MAX_TOKENS_REVISE=1200

# Embeddings (pgvector personalization)
# If enabled and pgvector columns exist, admin backfill can populate embeddings for personalized ranking.
JOBSCOUT_EMBEDDINGS_ENABLED=false
JOBSCOUT_OPENAI_EMBEDDING_MODEL=text-embedding-3-small

# Paddle Payments (optional)
# Configure Paddle for subscription billing
# Get these from Paddle Dashboard > Developer Tools > Authentication
JOBSCOUT_PADDLE_API_KEY=
JOBSCOUT_PADDLE_WEBHOOK_SECRET=
JOBSCOUT_PADDLE_VENDOR_ID=
JOBSCOUT_PADDLE_PRODUCT_ID=
# Optional: explicit price IDs for multi-tier plans
JOBSCOUT_PADDLE_PRICE_ID_WEEKLY_STANDARD=
JOBSCOUT_PADDLE_PRICE_ID_WEEKLY_PRO=
JOBSCOUT_PADDLE_PRICE_ID_MONTHLY_STANDARD=
JOBSCOUT_PADDLE_PRICE_ID_WEEKLY_SPRINT=
JOBSCOUT_PADDLE_PRICE_ID_MONTHLY_PRO=
JOBSCOUT_PADDLE_PRICE_ID_MONTHLY_POWER=
JOBSCOUT_PADDLE_PRICE_ID_ANNUAL_PRO=
JOBSCOUT_PADDLE_PRICE_ID_ANNUAL_POWER=
JOBSCOUT_PADDLE_PRICE_ID_TOPUP_20=
# Use "sandbox" for testing, "production" for live
JOBSCOUT_PADDLE_ENVIRONMENT=sandbox

# Email Service (optional - for onboarding drip emails)
# Get API key from: https://resend.com/api-keys
RESEND_API_KEY=
EMAIL_FROM=JobiQueue <hello@jobiqueue.com>
# Optional: where links in emails should point (your frontend)
SITE_URL=https://jobiqueue.com
# Optional: reply-to address for onboarding emails
REPLY_TO_EMAIL=support@jobiqueue.com
